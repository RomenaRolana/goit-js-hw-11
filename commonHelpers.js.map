{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["document.getElementById('search-form').addEventListener('submit', function(e) {\n    e.preventDefault();\n    const query = document.getElementById('query').value.trim();\n    if (!query) {\n        iziToast.warning({title: 'Warning', message: 'Please enter a search query.'});\n        return;\n    }\n    searchImages(query);\n});\n\nfunction searchImages(query) {\n    const apiKey = '42183789-4564ae77348bbdba9cab87cc0';\n    const url = `https://pixabay.com/api/?key=${apiKey}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n    iziToast.info({title: 'Searching', message: 'Fetching images...', timeout: false, overlay: true, id: 'loading'});\n\n    fetch(url)\n        .then(response => response.json())\n        .then(data => {\n            displayImages(data.hits);\n            iziToast.destroy(document.querySelector('.iziToast-overlay'));\n        })\n        .catch(error => {\n            iziToast.error({title: 'Error', message: 'Failed to fetch images.'});\n            console.error('Error fetching images:', error);\n            iziToast.destroy(document.querySelector('.iziToast-overlay'));\n        });\n}\n\nfunction displayImages(images) {\n    const gallery = document.getElementById('gallery');\n    gallery.innerHTML = ''; // Clear the gallery before adding new images\n\n    if (images.length === 0) {\n        iziToast.info({title: 'No results', message: 'Sorry, there are no images matching your search query. Please try again!'});\n        return;\n    }\n\n    images.forEach(image => {\n        const div = document.createElement('div');\n        div.className = 'image-card';\n        \n        const a = document.createElement('a');\n        a.href = image.largeImageURL;\n        a.dataset.lightbox = \"image-set\";\n        a.dataset.title = image.tags;\n\n        const img = document.createElement('img');\n        img.src = image.webformatURL;\n        img.alt = image.tags;\n        a.appendChild(img);\n        \n        const infoDiv = document.createElement('div');\n        infoDiv.className = 'info';\n        infoDiv.textContent = `Likes: ${image.likes}, Views: ${image.views}, Comments: ${image.comments}, Downloads: ${image.downloads}`;\n        \n        div.appendChild(a);\n        div.appendChild(infoDiv);\n        \n        gallery.appendChild(div);\n    });\n\n    // Re-initialize SimpleLightbox for the new set of links\n    let lightbox = new SimpleLightbox({elements: '#gallery a'});\n    lightbox.refresh();\n}"],"names":["e","query","searchImages","url","response","data","displayImages","error","images","gallery","image","div","a","img","infoDiv"],"mappings":"ssBAAA,SAAS,eAAe,aAAa,EAAE,iBAAiB,SAAU,SAASA,EAAG,CAC1EA,EAAE,eAAc,EAChB,MAAMC,EAAQ,SAAS,eAAe,OAAO,EAAE,MAAM,OACrD,GAAI,CAACA,EAAO,CACR,SAAS,QAAQ,CAAC,MAAO,UAAW,QAAS,8BAA8B,CAAC,EAC5E,MACH,CACDC,EAAaD,CAAK,CACtB,CAAC,EAED,SAASC,EAAaD,EAAO,CAEzB,MAAME,EAAM,qEAA4C,mBAAmBF,CAAK,4DAEhF,SAAS,KAAK,CAAC,MAAO,YAAa,QAAS,qBAAsB,QAAS,GAAO,QAAS,GAAM,GAAI,SAAS,CAAC,EAE/G,MAAME,CAAG,EACJ,KAAKC,GAAYA,EAAS,MAAM,EAChC,KAAKC,GAAQ,CACVC,EAAcD,EAAK,IAAI,EACvB,SAAS,QAAQ,SAAS,cAAc,mBAAmB,CAAC,CACxE,CAAS,EACA,MAAME,GAAS,CACZ,SAAS,MAAM,CAAC,MAAO,QAAS,QAAS,yBAAyB,CAAC,EACnE,QAAQ,MAAM,yBAA0BA,CAAK,EAC7C,SAAS,QAAQ,SAAS,cAAc,mBAAmB,CAAC,CACxE,CAAS,CACT,CAEA,SAASD,EAAcE,EAAQ,CAC3B,MAAMC,EAAU,SAAS,eAAe,SAAS,EAGjD,GAFAA,EAAQ,UAAY,GAEhBD,EAAO,SAAW,EAAG,CACrB,SAAS,KAAK,CAAC,MAAO,aAAc,QAAS,0EAA0E,CAAC,EACxH,MACH,CAEDA,EAAO,QAAQE,GAAS,CACpB,MAAMC,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,UAAY,aAEhB,MAAMC,EAAI,SAAS,cAAc,GAAG,EACpCA,EAAE,KAAOF,EAAM,cACfE,EAAE,QAAQ,SAAW,YACrBA,EAAE,QAAQ,MAAQF,EAAM,KAExB,MAAMG,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,IAAMH,EAAM,aAChBG,EAAI,IAAMH,EAAM,KAChBE,EAAE,YAAYC,CAAG,EAEjB,MAAMC,EAAU,SAAS,cAAc,KAAK,EAC5CA,EAAQ,UAAY,OACpBA,EAAQ,YAAc,UAAUJ,EAAM,iBAAiBA,EAAM,oBAAoBA,EAAM,wBAAwBA,EAAM,YAErHC,EAAI,YAAYC,CAAC,EACjBD,EAAI,YAAYG,CAAO,EAEvBL,EAAQ,YAAYE,CAAG,CAC/B,CAAK,EAGc,IAAI,eAAe,CAAC,SAAU,YAAY,CAAC,EACjD,QAAO,CACpB"}