{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst form = document.querySelector('#search-form');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader'); // Додав селектор для завантажувача\n\nloader.style.display = 'none'; // Переконайтеся, що завантажувач спочатку прихований\n\nconst searchParams = {\n    key: '42183789-4564ae77348bbdba9cab87cc0',\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    q: '',\n};\n\n// Створюємо екземпляр SimpleLightbox один раз\nlet lightBox = new SimpleLightbox('.gallery-link');\n\nform.addEventListener('submit', e => {\n    e.preventDefault();\n    gallery.innerHTML = ''; // Очищення галереї перед новим запитом\n    loader.style.display = 'block'; \n    const inputValue = document.querySelector('#query').value;\n    searchParams.q = inputValue;\n    getPhotoByName()\n        .then(images => {\n            createGallery(images);\n            lightBox.refresh(); // Оновлюємо lightBox з новими зображеннями\n        })\n        .catch(error => {\n            iziToast.error({ // Використання iziToast для повідомлень про помилки\n                title: 'Error',\n                message: `An error occurred: ${error.message}`,\n            });\n        })\n        .finally(() => {\n            loader.style.display = 'none'; // Приховуємо завантажувач після завершення запиту\n        });\n    e.target.reset();\n});\n\nfunction getPhotoByName() {\n    const urlParams = new URLSearchParams(searchParams);\n    return fetch(`https://pixabay.com/api/?${urlParams}`)\n        .then(res => {\n            if (res.ok) {\n                return res.json();\n            } else {\n                throw new Error(`Failed to fetch: ${res.statusText}`);\n            }\n        });\n}\n\nfunction createGallery(images) {\n    if (images.hits.length === 0) {\n        iziToast.info({\n            message: 'Sorry, there are no images matching your search query. Please try again!',\n        });\n    } else {\n        const links = images.hits.map(image => `\n            <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n                <img class=\"gallery-image\" src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n            </a>\n            <div class=\"img-content\">\n                <div><h3>Likes</h3><p>${image.likes}</p></div>\n                <div><h3>Views</h3><p>${image.views}</p></div>\n                <div><h3>Comments</h3><p>${image.comments}</p></div>\n                <div><h3>Downloads</h3><p>${image.downloads}</p></div>\n            </div>\n        `).join('');\n        gallery.innerHTML = links;\n    }\n}"],"names":["form","gallery","loader","searchParams","lightBox","SimpleLightbox","e","inputValue","getPhotoByName","images","createGallery","error","iziToast","urlParams","res","links","image"],"mappings":"6vBAKA,MAAMA,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAE/CA,EAAO,MAAM,QAAU,OAEvB,MAAMC,EAAe,CACjB,IAAK,qCACL,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,EAAG,EACP,EAGA,IAAIC,EAAW,IAAIC,EAAe,eAAe,EAEjDL,EAAK,iBAAiB,SAAUM,GAAK,CACjCA,EAAE,eAAc,EAChBL,EAAQ,UAAY,GACpBC,EAAO,MAAM,QAAU,QACvB,MAAMK,EAAa,SAAS,cAAc,QAAQ,EAAE,MACpDJ,EAAa,EAAII,EACjBC,EAAgB,EACX,KAAKC,GAAU,CACZC,EAAcD,CAAM,EACpBL,EAAS,QAAO,CAC5B,CAAS,EACA,MAAMO,GAAS,CACZC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,sBAAsBD,EAAM,SACrD,CAAa,CACb,CAAS,EACA,QAAQ,IAAM,CACXT,EAAO,MAAM,QAAU,MACnC,CAAS,EACLI,EAAE,OAAO,OACb,CAAC,EAED,SAASE,GAAiB,CACtB,MAAMK,EAAY,IAAI,gBAAgBV,CAAY,EAClD,OAAO,MAAM,4BAA4BU,GAAW,EAC/C,KAAKC,GAAO,CACT,GAAIA,EAAI,GACJ,OAAOA,EAAI,OAEX,MAAM,IAAI,MAAM,oBAAoBA,EAAI,YAAY,CAEpE,CAAS,CACT,CAEA,SAASJ,EAAcD,EAAQ,CAC3B,GAAIA,EAAO,KAAK,SAAW,EACvBG,EAAS,KAAK,CACV,QAAS,0EACrB,CAAS,MACE,CACH,MAAMG,EAAQN,EAAO,KAAK,IAAIO,GAAS;AAAA,4CACHA,EAAM;AAAA,kDACAA,EAAM,sBAAsBA,EAAM;AAAA;AAAA;AAAA,wCAG5CA,EAAM;AAAA,wCACNA,EAAM;AAAA,2CACHA,EAAM;AAAA,4CACLA,EAAM;AAAA;AAAA,SAEzC,EAAE,KAAK,EAAE,EACVf,EAAQ,UAAYc,CACvB,CACL"}